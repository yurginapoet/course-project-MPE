# Компилятор
CXX = g++

# Флаги компиляции (без предупреждений)
CXXFLAGS = -std=c++20 -O2

# Папка с исходными файлами
SRC_DIR = .

# Исходные файлы (все .cc файлы в папке ./src)
SRCS = $(wildcard $(SRC_DIR)/*.cc)

#headers
HEADERS = $(wildcard $(SRC_DIR)/*.h)

# Имя исполняемого файла
TARGET = a

# Цель по умолчанию: собираем исполняемый файл
all: $(TARGET)

# Правило для компиляции и линковки всех .cc файлов в один исполняемый файл
$(TARGET): $(SRCS) $(HEADERS)
	$(CXX) $(CXXFLAGS) $(SRCS) -o $(TARGET)

# Очистка: удаляем исполняемый файл
clean:
	rm -f $(TARGET)

# Флаг для предотвращения конфликтов с одноименными файлами
.PHONY: all clean